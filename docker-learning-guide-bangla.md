# ЁЯР│ Docker рж╢рж┐ржЦрж┐ тАФ React (Vite) Developer ржжрзЗрж░ ржЬржирзНржп рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржб

> **ржЯрж╛рж░рзНржЧрзЗржЯ:** Windows 11, React (Vite), Docker рж╕ржорзНржкрж░рзНржХрзЗ рж╢рзВржирзНржп ржерзЗржХрзЗ рж╢рзБрж░рзБред
> ржПржЗ ржЧрж╛ржЗржбрзЗ Definition ржорзБржЦрж╕рзНржд ржХрж░ржмрзЛ ржирж╛ тАФ **ржХрзЛржб ржжрж┐ржпрж╝рзЗ ржмрзБржЭржмрзЛ ржкрзНрж░рждрж┐ржЯрж┐ ржЬрж┐ржирж┐рж╕ ржХрж┐, ржХрзЗржи, ржПржмржВ ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред**

---

## ЁЯУМ рж╢рзБрж░рзБрж░ ржЖржЧрзЗ: рждрзЛржорж╛рж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржмржбрж╝ ржХржиржлрж┐ржЙрж╢ржи ржжрзВрж░ ржХрж░рж┐

рждрзБржорж┐ ржмрж▓рзЗржЫрзЛ тАФ Image, Container, Compose ржПржЧрзБрж▓рзЛрж░ ржбрзЗржлрж┐ржирж┐рж╢ржи ржЬрж╛ржирзЛ ржХрж┐ржирзНрждрзБ ржХрзЛржбрзЗ ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ рж╕рзЗржЯрж╛ ржмрзБржЭрзЛ ржирж╛ред ржЪрж▓рзЛ ржПржЯрж╛ ржПржХржмрж╛рж░рзЗ ржХрзНрж▓рж┐ржпрж╝рж╛рж░ ржХрж░рж┐:

### ЁЯза рж░рж┐ржпрж╝рзЗрж▓ рж▓рж╛ржЗржл Analogy ржжрж┐ржпрж╝рзЗ ржмрзБржЭрж┐

ржзрж░рзЛ рждрзБржорж┐ ржмрж┐рж░рж┐ржпрж╝рж╛ржирж┐ рж░рж╛ржирзНржирж╛ ржХрж░ржмрзЗ:

| Docker Concept     | рж░рж┐ржпрж╝рзЗрж▓ рж▓рж╛ржЗржл Example                                                  | ржХрзЛржбрзЗ ржХрж┐ рж╣ржпрж╝?                                                                                      |
| :----------------- | :------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------ |
| **Dockerfile**     | ЁЯУЭ ржмрж┐рж░рж┐ржпрж╝рж╛ржирж┐рж░ рж░рзЗрж╕рж┐ржкрж┐ (рж▓рзЗржЦрж╛ ржЖржЫрзЗ ржХрж┐ ржХрж┐ рж▓рж╛ржЧржмрзЗ, ржХрж┐ржнрж╛ржмрзЗ рж░рж╛ржирзНржирж╛ ржХрж░ржмрзЗ)      | ржПржХржЯрж╛ ржЯрзЗржХрзНрж╕ржЯ ржлрж╛ржЗрж▓ тАФ ржпрзЗржЦрж╛ржирзЗ рждрзБржорж┐ рж▓рж┐ржЦрзЛ "Node ржЗржирж╕рзНржЯрж▓ ржХрж░рзЛ, ржХрзЛржб ржХржкрж┐ ржХрж░рзЛ, npm install ржжрж╛ржУ"               |
| **Image**          | ЁЯУж рж░рзЗрж╕рж┐ржкрж┐ ржЕржирзБрж╕рж╛рж░рзЗ рж╕ржм ржЙржкржХрж░ржг ржкрзНржпрж╛ржХ ржХрж░рж╛ ржмржХрзНрж╕ (ржЪрж╛рж▓, ржорж╛ржВрж╕, ржорж╢рж▓рж╛ рж╕ржм ржнрзЗрждрж░рзЗ) | `docker build` ржХржорж╛ржирзНржб ржжрж┐рж▓рзЗ Dockerfile ржкржбрж╝рзЗ ржПржХржЯрж╛ Image рждрзИрж░рж┐ рж╣ржпрж╝ред ржПржЯрж╛ ржПржХржЯрж╛ ржлрж╛ржЗрж▓ тАФ ржЪрж▓рзЗ ржирж╛, рж╢рзБржзрзБ ржерж╛ржХрзЗ |
| **Container**      | ЁЯН│ рж╕рзЗржЗ ржмржХрзНрж╕ ржЦрзБрж▓рзЗ ржЖрж╕рж▓ рж░рж╛ржирзНржирж╛ рж╢рзБрж░рзБ ржХрж░рж╛ (ржЪрзБрж▓рж╛ржпрж╝ рж╣рж╛ржбрж╝рж┐ ржмрж╕рж╛ржирзЛ)            | `docker run` ржХржорж╛ржирзНржб ржжрж┐рж▓рзЗ Image ржерзЗржХрзЗ ржПржХржЯрж╛ Container рждрзИрж░рж┐ рж╣ржпрж╝ ржПржмржВ рждрзЛржорж╛рж░ ржЕрзНржпрж╛ржк ржЪрж▓рж╛ рж╢рзБрж░рзБ рж╣ржпрж╝          |
| **Docker Compose** | ЁЯСитАНЁЯН│ ржПржХрж╕рж╛ржерзЗ рзйржЯрж╛ рж░рж╛ржирзНржирж╛ (ржнрж╛ржд + рждрж░ржХрж╛рж░рж┐ + рж╕рж╛рж▓рж╛ржж) ржПржХржЯрж╛ ржЕрж░рзНржбрж╛рж░рзЗ ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛ | ржПржХржЯрж╛ `.yml` ржлрж╛ржЗрж▓рзЗ рж╕ржм ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ рж╕рзЗржЯрж┐ржВрж╕ рж▓рж┐ржЦрзЗ рж░рж╛ржЦрзЛ, ржПржХржЯрж╛ ржХржорж╛ржирзНржбрзЗ рж╕ржм ржЪрж╛рж▓рзБ рж╣ржпрж╝                       |

### ЁЯФе ржПржЦржи ржХрзЛржбрзЗ ржжрзЗржЦрзЛ ржХрзЗ ржХрж┐ ржХрж░рзЗ

```
рждрзБржорж┐ Dockerfile рж▓рж┐ржЦрж▓рзЗ      тЖТ ржПржЯрж╛ рж╢рзБржзрзБ Instructions (ржирж┐ржЬрзЗ ржХрж┐ржЫрзБ ржХрж░рзЗ ржирж╛)
                                    тЖУ
docker build ржжрж┐рж▓рзЗ           тЖТ Dockerfile ржкржбрж╝рзЗ Image рждрзИрж░рж┐ рж╣ржпрж╝ (ржПржЯрж╛ ржПржХржЯрж╛ ржлрж╛ржЗрж▓, ржЪрж▓рзЗ ржирж╛)
                                    тЖУ
docker run ржжрж┐рж▓рзЗ             тЖТ Image ржерзЗржХрзЗ Container рждрзИрж░рж┐ рж╣ржпрж╝ (ржПржЯрж╛ржЗ ржЖрж╕рж▓рзЗ ржЪрж▓рзЗ!)
                                    тЖУ
docker-compose up ржжрж┐рж▓рзЗ      тЖТ yml ржлрж╛ржЗрж▓ ржкржбрж╝рзЗ ржЕржЯрзЛ build + run ржжрзБржЯрзЛржЗ ржХрж░рзЗ
```

**ржоржирзЗ рж░рж╛ржЦрзЛ:**

- рззржЯрж╛ Image ржерзЗржХрзЗ рззрзжржЯрж╛ Container ржмрж╛ржирж╛ржирзЛ ржпрж╛ржпрж╝ (ржпрзЗржоржи ржПржХржЯрж╛ рж░рзЗрж╕рж┐ржкрж┐ ржерзЗржХрзЗ рззрзж ржмрж╛рж░ рж░рж╛ржирзНржирж╛)
- Container ржмржирзНржз ржХрж░рж▓рзЗ (stop) ржбрж╛ржЯрж╛ ржерж╛ржХрзЗ, ржбрж┐рж▓рж┐ржЯ ржХрж░рж▓рзЗ (rm) рж╕ржм рж╢рзЗрж╖
- Image ржбрж┐рж▓рж┐ржЯ ржирж╛ ржХрж░рж▓рзЗ рж╕ржмрж╕ржоржпрж╝ ржерж╛ржХрзЗ тАФ ржпрзЗржХрзЛржирзЛ рж╕ржоржпрж╝ ржирждрзБржи Container ржмрж╛ржирж╛рждрзЗ ржкрж╛рж░ржмрзЗ

---

---

# ЁЯЯв PHASE 1: Docker ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛ (Windows 11)

**ржПржЗ Phase ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп:** рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐рждрзЗ Docker ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржп рж░рзЗржбрж┐ ржХрж░рж╛ред

---

### Step 1: WSL2 ржЗржирж╕рзНржЯрж▓ ржХрж░рзЛ

Docker Windows-ржП рж╕рж░рж╛рж╕рж░рж┐ ржЪрж▓рзЗ ржирж╛ред ржПрж░ ржнрзЗрждрж░рзЗ ржПржХржЯрж╛ Mini Linux ржЪрж╛рж▓рзБ рж╣ржпрж╝ тАФ рж╕рзЗржЯрж╛рж░ ржирж╛ржо WSL (Windows Subsystem for Linux)ред

**PowerShell ржЕрзНржпрж╛ржбржорж┐ржи рж╣рж┐рж╕рзЗржмрзЗ ржУржкрзЗржи ржХрж░рзЛ**, рждрж╛рж░ржкрж░ ржПржЗ ржХржорж╛ржирзНржб ржжрж╛ржУ:

```powershell
wsl --install
```

**ржПржЗ ржХржорж╛ржирзНржб ржХрж┐ ржХрж░рзЗ?**

- Windows ржПрж░ ржнрзЗрждрж░рзЗ Ubuntu Linux ржЗржирж╕рзНржЯрж▓ ржХрж░рзЗ ржжрзЗржпрж╝
- Docker ржПржЗ Linux ржПрж░ ржнрзЗрждрж░рзЗржЗ ржЪрж▓ржмрзЗ

> тЪая╕П **ржХржорж╛ржирзНржб ржжрзЗржУржпрж╝рж╛рж░ ржкрж░ ржХржорзНржкрж┐ржЙржЯрж╛рж░ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржжрж┐рждрзЗ рж╣ржмрзЗред**

---

### Step 2: Docker Desktop ржЗржирж╕рзНржЯрж▓ ржХрж░рзЛ

1. ржПржЗ рж▓рж┐ржВржХрзЗ ржпрж╛ржУ тЖТ [https://www.docker.com/products/docker-desktop/](https://www.docker.com/products/docker-desktop/)
2. "Download for Windows" ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЛ
3. ржбрж╛ржЙржирж▓рзЛржб рж╣рж▓рзЗ ржЗржирж╕рзНржЯрж▓ ржХрж░рзЛ (Next, Next, Finish)
4. ржЗржирж╕рзНржЯрж▓ рж╢рзЗрж╖ рж╣рж▓рзЗ ржкрж┐рж╕рж┐ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржжрж╛ржУ

---

### Step 3: Docker Desktop рж╕рзЗржЯрж┐ржВрж╕ ржЪрзЗржХ ржХрж░рзЛ

Docker Desktop ржУржкрзЗржи ржХрж░рзЛ, рждрж╛рж░ржкрж░:

1. **Settings** (тЪЩя╕П ржЖржЗржХржи) ржП ржпрж╛ржУ
2. **General** тЖТ тЬЕ "Use the WSL 2 based engine" ржЯрж┐ржХ ржжрзЗржУржпрж╝рж╛ ржЖржЫрзЗ ржХрж┐ржирж╛ ржжрзЗржЦрзЛ
3. **Resources тЖТ WSL Integration** тЖТ рждрзЛржорж╛рж░ Ubuntu ржбрж┐рж╕рзНржЯрзНрж░рзЛ "Enable" ржХрж░рзЛ

---

### Step 4: ржнрзЗрж░рж┐ржлрж╛ржЗ ржХрж░рзЛ тАФ Docker ржарж┐ржХржорждрзЛ ржЗржирж╕рзНржЯрж▓ рж╣ржпрж╝рзЗржЫрзЗ?

**VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓** ржмрж╛ **PowerShell** ржУржкрзЗржи ржХрж░рзЛ, рждрж╛рж░ржкрж░ ржПржЗ ржХржорж╛ржирзНржб ржжрж╛ржУ:

```bash
docker --version
```

**ржЖржЙржЯржкрзБржЯ ржЖрж╕ржмрзЗ ржПрж░ржХржо:**

```
Docker version 27.x.x, build xxxxxxx
```

ржПржЯрж╛ ржЖрж╕рж▓рзЗ ржорж╛ржирзЗ Docker ржарж┐ржХржорждрзЛ ржЗржирж╕рзНржЯрж▓ рж╣ржпрж╝рзЗржЫрзЗред тЬЕ

```bash
docker run hello-world
```

**ржПржЯрж╛ ржХрж┐ ржХрж░рзЗ?**

- Docker Hub (ржЕржирж▓рж╛ржЗржи ржнрж╛ржирзНржбрж╛рж░) ржерзЗржХрзЗ `hello-world` ржирж╛ржорзЗрж░ ржПржХржЯрж╛ ржЫрзЛржЯрзНржЯ Image ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзЗ
- рж╕рзЗржЗ Image ржерзЗржХрзЗ ржПржХржЯрж╛ Container ржмрж╛ржирж┐ржпрж╝рзЗ ржЪрж╛рж▓рж╛ржпрж╝
- "Hello from Docker!" ржорзЗрж╕рзЗржЬ ржжрзЗржЦрж╛ржпрж╝

ржПржЯрж╛ ржжрзЗржЦрж▓рзЗ ржорж╛ржирзЗ тАФ **Image ржбрж╛ржЙржирж▓рзЛржб, Container рждрзИрж░рж┐, Container рж░рж╛ржи тАФ рж╕ржм ржХрж╛ржЬ ржХрж░ржЫрзЗред** ЁЯОЙ

---

### тЪая╕П Common Error & Fix

| рж╕ржорж╕рзНржпрж╛                                            | рж╕ржорж╛ржзрж╛ржи                                                           |
| :------------------------------------------------ | :--------------------------------------------------------------- |
| "Hardware assisted virtualization is not enabled" | BIOS ржП ржврзБржХрзЗ **Intel VT-x** ржмрж╛ **AMD-V** ржЕржи ржХрж░рзЛ (рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ рж▓рж╛ржЧржмрзЗ) |
| "WSL 2 is not installed"                          | PowerShell ржП `wsl --install` ржжрж╛ржУ, рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржжрж╛ржУ                  |
| Docker Desktop ржУржкрзЗржи рж╣ржЪрзНржЫрзЗ ржирж╛ / ржХрзНрж░рзНржпрж╛рж╢ ржХрж░ржЫрзЗ       | Windows Update ржжрж╛ржУ, Docker Desktop ржЖржиржЗржирж╕рзНржЯрж▓ ржХрж░рзЗ ржЖржмрж╛рж░ ржЗржирж╕рзНржЯрж▓ ржХрж░рзЛ  |

---

---

# ЁЯФ╡ PHASE 2: рждрзЛржорж╛рж░ ржкрзНрж░ржержо Dockerfile рж▓рзЗржЦрж╛ (React + Vite)

**ржПржЗ Phase ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп:** ржПржХржЯрж╛ React (Vite) ржкрзНрж░ржЬрзЗржХрзНржЯржХрзЗ Docker-ржП ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржп ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛ рждрзИрж░рж┐ ржХрж░рж╛ ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ рж▓рж╛ржЗржирзЗрж░ ржорж╛ржирзЗ ржмрзЛржЭрж╛ред

---

### ЁЯУВ ржзрж░рзЛ рждрзЛржорж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯ ржПрж░ржХржо:

```
D:\projects\my-react-app\          тЖР ржПржЯрж╛ рждрзЛржорж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ Root folder
тФЬтФАтФА node_modules\                  тЖР npm install ржжрж┐рж▓рзЗ рждрзИрж░рж┐ рж╣ржпрж╝
тФЬтФАтФА public\
тФЬтФАтФА src\
тФВ   тФЬтФАтФА App.jsx
тФВ   тФФтФАтФА main.jsx
тФЬтФАтФА index.html
тФЬтФАтФА package.json                   тЖР ржПржЗ ржлрж╛ржЗрж▓ржЯрж╛ ржпрзЗржЦрж╛ржирзЗ рж╕рзЗржЯрж╛ржЗ Root
тФЬтФАтФА vite.config.js
тФФтФАтФА ... ржЕржирзНржпрж╛ржирзНржп ржлрж╛ржЗрж▓
```

**ржЖржорж░рж╛ ржПржЗ Root folder-ржП рзйржЯрж╛ ржирждрзБржи ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░ржмрзЛ:**

```
D:\projects\my-react-app\
тФЬтФАтФА .dockerignore                  тЖР ЁЯЖХ рждрзИрж░рж┐ ржХрж░ржмрзЛ
тФЬтФАтФА Dockerfile                     тЖР ЁЯЖХ рждрзИрж░рж┐ ржХрж░ржмрзЛ
тФЬтФАтФА docker-compose.yml             тЖР ЁЯЖХ рждрзИрж░рж┐ ржХрж░ржмрзЛ (Phase 4 ржП)
тФЬтФАтФА node_modules\
тФЬтФАтФА src\
тФЬтФАтФА package.json
тФЬтФАтФА vite.config.js
тФФтФАтФА ...
```

> **ЁЯФС ржоржирзЗ рж░рж╛ржЦрзЛ:** ржПржЗ рзйржЯрж╛ ржлрж╛ржЗрж▓ рж╕ржмрж╕ржоржпрж╝ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ **Root folder-ржП** (ржпрзЗржЦрж╛ржирзЗ `package.json` ржЖржЫрзЗ) рждрзИрж░рж┐ ржХрж░ржмрзЗред ржнрзБрж▓рзЗржУ `src/` ржмрж╛ ржЕржирзНржп ржХрзЛржирзЛ ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржмрж╛ржирж╛ржмрзЗ ржирж╛ред

---

### Step 1: `.dockerignore` ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЛ

**ЁЯУН ржХрзЛржерж╛ржпрж╝:** ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ Root folder-ржП (ржпрзЗржЦрж╛ржирзЗ `package.json` ржЖржЫрзЗ)
**ЁЯУД ржлрж╛ржЗрж▓рзЗрж░ ржирж╛ржо:** `.dockerignore` (ржирж╛ржорзЗрж░ рж╢рзБрж░рзБрждрзЗ ржбржЯ `.` ржЖржЫрзЗ тАФ ржПржЯрж╛ ржЬрж░рзБрж░рж┐)

**VS Code рждрзЗ ржирждрзБржи ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЛ** тЖТ ржирж╛ржо ржжрж╛ржУ `.dockerignore` тЖТ ржнрзЗрждрж░рзЗ ржПржЯрж╛ рж▓рзЗржЦрзЛ:

```text
# node_modules ржХржкрж┐ ржХрж░ржмрзЛ ржирж╛ тАФ ржХрж╛рж░ржг Container ржнрзЗрждрж░рзЗ npm install ржЖржмрж╛рж░ рж╣ржмрзЗ
node_modules

# dist ржлрзЛрж▓рзНржбрж╛рж░ ржХржкрж┐ ржХрж░ржмрзЛ ржирж╛ тАФ ржХрж╛рж░ржг Container ржнрзЗрждрж░рзЗ build ржЖржмрж╛рж░ рж╣ржмрзЗ
dist

# git ржлрзЛрж▓рзНржбрж╛рж░ ржжрж░ржХрж╛рж░ ржирж╛ржЗ Container ржП
.git

# Docker ржПрж░ ржирж┐ржЬрзЗрж░ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛ ржХржкрж┐ ржХрж░рж╛рж░ ржжрж░ржХрж╛рж░ ржирж╛ржЗ
Dockerfile
.dockerignore
docker-compose.yml

# Environment ржлрж╛ржЗрж▓ тАФ рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ рж░рж┐рж╕рзНржХ ржЖржЫрзЗ
.env
.env.local
```

**ржПржЗ ржлрж╛ржЗрж▓рзЗрж░ ржХрж╛ржЬ ржХрж┐?**

- `.gitignore` ржпрзЗржоржи Git-ржХрзЗ ржмрж▓рзЗ "ржПржЗ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛ ignore ржХрж░рзЛ"
- `.dockerignore` ржарж┐ржХ рждрзЗржоржирж┐ Docker-ржХрзЗ ржмрж▓рзЗ "ржПржЗ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛ Image-ржПрж░ ржнрзЗрждрж░рзЗ ржХржкрж┐ ржХрзЛрж░рзЛ ржирж╛"
- ржПрждрзЗ Image-ржПрж░ рж╕рж╛ржЗржЬ ржЫрзЛржЯ ржерж╛ржХрзЗ ржПржмржВ ржмрж┐рж▓рзНржб ржлрж╛рж╕рзНржЯ рж╣ржпрж╝

---

### Step 2: `Dockerfile` рждрзИрж░рж┐ ржХрж░рзЛ

**ЁЯУН ржХрзЛржерж╛ржпрж╝:** ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ Root folder-ржП
**ЁЯУД ржлрж╛ржЗрж▓рзЗрж░ ржирж╛ржо:** `Dockerfile` (ржХрзЛржирзЛ extension ржирж╛ржЗ тАФ `.txt` ржмрж╛ `.js` рж▓рж╛ржЧрж╛ржмрзЗ ржирж╛)

```dockerfile
# ============================================================
# рж▓рж╛ржЗржи рзз: ржмрзЗржЬ ржЗржорзЗржЬ рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рж╛
# ============================================================
# ржПрж░ ржорж╛ржирзЗ: "ржЖржорж╛ржХрзЗ ржПржХржЯрж╛ ржХржорзНржкрж┐ржЙржЯрж╛рж░ ржжрж╛ржУ ржпрзЗржЦрж╛ржирзЗ Node.js 20 ржЖржЧрзЗ ржерзЗржХрзЗ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛ ржЖржЫрзЗ"
# 'alpine' ржорж╛ржирзЗ рж╣рж▓рзЛ ржЦрзБржм ржЫрзЛржЯ рж╕рж╛ржЗржЬрзЗрж░ Linux (ржорж╛рждрзНрж░ ~5MB)
# рждрзБржорж┐ ржпржжрж┐ рж╢рзБржзрзБ 'node:20' рж▓рж┐ржЦрждрзЗ рждрж╛рж╣рж▓рзЗ ржЗржорзЗржЬ ~1GB рж╣рждрзЛ, alpine ржжрж┐рж▓рзЗ ~150MB
FROM node:20-alpine

# ============================================================
# рж▓рж╛ржЗржи рзи: ржХрж╛ржЬрзЗрж░ ржлрзЛрж▓рзНржбрж╛рж░ рж╕рзЗржЯ ржХрж░рж╛
# ============================================================
# Container ржПрж░ ржнрзЗрждрж░рзЗ /app ржирж╛ржорзЗ ржПржХржЯрж╛ ржлрзЛрж▓рзНржбрж╛рж░ рждрзИрж░рж┐ рж╣ржмрзЗ
# ржПрж░ржкрж░рзЗрж░ рж╕ржм ржХржорж╛ржирзНржб ржПржЗ /app ржлрзЛрж▓рзНржбрж╛рж░ ржерзЗржХрзЗ ржЪрж▓ржмрзЗ
# ржПржЯрж╛ рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐рж░ cd /app ржХржорж╛ржирзНржб ржжрзЗржУржпрж╝рж╛рж░ ржорждрзЛржЗ
WORKDIR /app

# ============================================================
# рж▓рж╛ржЗржи рзй: рж╢рзБржзрзБ package.json ржЖржЧрзЗ ржХржкрж┐ ржХрж░рж╛
# ============================================================
# ржХрзЗржи ржЖржЧрзЗ? ржХрж╛рж░ржг Docker ржПржХржЯрж╛ Smart Caching рж╕рж┐рж╕рзНржЯрзЗржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ
# ржпржжрж┐ package.json ржЪрзЗржЮрзНржЬ ржирж╛ рж╣ржпрж╝ тЖТ npm install рж╕рзНржХрж┐ржк рж╣ржмрзЗ (рж╕ржоржпрж╝ ржмрж╛ржБржЪржмрзЗ!)
# COPY <рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐ ржерзЗржХрзЗ ржХрж┐> <Container ржП ржХрзЛржерж╛ржпрж╝>
COPY package.json .

# ============================================================
# рж▓рж╛ржЗржи рзк: ржбрж┐ржкрзЗржиржбрзЗржирзНрж╕рж┐ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛
# ============================================================
# ржПржЯрж╛ рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐рждрзЗ npm install ржжрзЗржУржпрж╝рж╛рж░ ржорждрзЛржЗ
# рждржмрзЗ ржПржЯрж╛ Container ржПрж░ ржнрзЗрждрж░рзЗ ржЪрж▓ржмрзЗ, рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐рж░ node_modules ржП ржХрж┐ржЫрзБ рж╣ржмрзЗ ржирж╛
RUN npm install

# ============================================================
# рж▓рж╛ржЗржи рзл: ржмрж╛ржХрж┐ рж╕ржм ржХрзЛржб ржХржкрж┐ ржХрж░рж╛
# ============================================================
# COPY . . ржорж╛ржирзЗ тЖТ рждрзЛржорж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ рж╕ржм ржлрж╛ржЗрж▓ Container ржПрж░ /app рждрзЗ ржХржкрж┐ ржХрж░рзЛ
# .dockerignore рждрзЗ ржпрж╛ рж▓рзЗржЦрж╛ ржЖржЫрзЗ рж╕рзЗржЧрзБрж▓рзЛ ржмрж╛ржж ржпрж╛ржмрзЗ (node_modules, dist ржЗрждрзНржпрж╛ржжрж┐)
COPY . .

# ============================================================
# рж▓рж╛ржЗржи рзм: ржкрзЛрж░рзНржЯ Expose ржХрж░рж╛
# ============================================================
# Vite ржбрж┐ржлрж▓рзНржЯрзЗ 5173 ржкрзЛрж░рзНржЯрзЗ ржЪрж▓рзЗ
# EXPOSE ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ Container ржПрж░ ржмрж╛ржЗрж░рзЗрж░ ржжрзБржирж┐ржпрж╝рж╛ржХрзЗ ржмрж▓рж╛ "ржПржЗ ржкрзЛрж░рзНржЯ ржжрж┐ржпрж╝рзЗ ржХрж╛ржирзЗржХрзНржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ"
# Note: ржПржЯрж╛ рж╢рзБржзрзБ Documentation ржПрж░ ржорждрзЛ, ржЖрж╕рж▓ ржХрж╛ржирзЗржХрж╢ржи -p ржлрзНрж▓рзНржпрж╛ржЧ ржжрж┐ржпрж╝рзЗ рж╣ржпрж╝
EXPOSE 5173

# ============================================================
# рж▓рж╛ржЗржи рзн: ржЕрзНржпрж╛ржк ржЪрж╛рж▓рзБ ржХрж░рж╛рж░ ржХржорж╛ржирзНржб
# ============================================================
# Container ржпржЦржи рж░рж╛ржи рж╣ржмрзЗ рждржЦржи ржПржЗ ржХржорж╛ржирзНржб ржЕржЯрзЛ ржЪрж▓ржмрзЗ
# ржПржЯрж╛ рждрзЛржорж╛рж░ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ npm run dev ржжрзЗржУржпрж╝рж╛рж░ ржорждрзЛржЗ
CMD ["npm", "run", "dev"]
```

---

### Step 3: `vite.config.js` ржЖржкржбрзЗржЯ ржХрж░рзЛ (ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг!)

**ЁЯУН ржХрзЛржерж╛ржпрж╝:** рждрзЛржорж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржПржЗ ржлрж╛ржЗрж▓ ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржЖржЫрзЗ тАФ рж╢рзБржзрзБ ржЖржкржбрзЗржЯ ржХрж░рзЛ
**ржХрзЗржи?** Docker Container ржПржХржЯрж╛ ржЖрж▓рж╛ржжрж╛ "ржХржорзНржкрж┐ржЙржЯрж╛рж░"ред рж╕рзЗржЦрж╛ржи ржерзЗржХрзЗ рждрзЛржорж╛рж░ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржкрзЗрждрзЗ рж╣рж▓рзЗ рж╕рзЗржЯрж┐ржВрж╕ ржЪрзЗржЮрзНржЬ рж▓рж╛ржЧржмрзЗред

```javascript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  server: {
    // тЬЕ host: true тЖТ Container ржПрж░ ржмрж╛ржЗрж░рзЗ ржерзЗржХрзЗ (рждрзЛржорж╛рж░ ржмрзНрж░рж╛ржЙржЬрж╛рж░) ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржкрж╛ржмрзЗ
    // ржПржЯрж╛ ржирж╛ ржжрж┐рж▓рзЗ Container ржЪрж▓ржмрзЗ ржХрж┐ржирзНрждрзБ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржХрж┐ржЫрзБ ржжрзЗржЦрж╛ржмрзЗ ржирж╛!
    host: true,

    // тЬЕ port: 5173 тЖТ Vite ржХрзЛржи ржкрзЛрж░рзНржЯрзЗ ржЪрж▓ржмрзЗ рж╕рзЗржЯрж╛ ржлрж┐ржХрзНрж╕ ржХрж░рж╛
    port: 5173,

    // тЬЕ watch тЖТ Windows ржП Docker Volume ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ Vite ржлрж╛ржЗрж▓ ржЪрзЗржЮрзНржЬ ржбрж┐ржЯрзЗржХрзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛
    // usePolling: true ржжрж┐рж▓рзЗ Vite ржирж┐ржЬрзЗ ржлрж╛ржЗрж▓ ржЪрзЗржХ ржХрж░рждрзЗ ржерж╛ржХрзЗ (ржПржХржЯрзБ CPU ржмрзЗрж╢рж┐ ржЦрж╛ржпрж╝ ржХрж┐ржирзНрждрзБ ржХрж╛ржЬ ржХрж░рзЗ!)
    watch: {
      usePolling: true,
    },
  },
})
```

---

### ЁЯзй ржПржЦржи ржкрж░рзНржпржирзНржд ржХрж┐ ржХрж┐ рждрзИрж░рж┐ рж╣рж▓рзЛ?

```
D:\projects\my-react-app\
тФЬтФАтФА .dockerignore          тЬЕ Docker-ржХрзЗ ржмрж▓рзЗ ржХрзЛржи ржлрж╛ржЗрж▓ ржХржкрж┐ ржХрж░ржмрзЗ ржирж╛
тФЬтФАтФА Dockerfile             тЬЕ Image рждрзИрж░рж┐рж░ рж░рзЗрж╕рж┐ржкрж┐ (ржЗржирж╕рзНржЯрзНрж░рж╛ржХрж╢ржи)
тФЬтФАтФА src\
тФЬтФАтФА package.json
тФЬтФАтФА vite.config.js         тЬЕ ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ (host, polling)
тФФтФАтФА ...
```

---

---

# ЁЯЯб PHASE 3: Image рждрзИрж░рж┐ ржХрж░рж╛ ржПржмржВ Container ржЪрж╛рж▓рж╛ржирзЛ

**ржПржЗ Phase ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп:** рждрзЛржорж╛рж░ рж▓рзЗржЦрж╛ Dockerfile ржерзЗржХрзЗ Image ржмрж╛ржирж╛ржирзЛ, рж╕рзЗржЗ Image ржерзЗржХрзЗ Container рждрзИрж░рж┐ ржХрж░рзЗ ржЕрзНржпрж╛ржк ржЪрж╛рж▓рж╛ржирзЛ тАФ ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ ржХржорж╛ржирзНржбрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржЕржВрж╢ ржмрзЛржЭрж╛ред

---

### Step 1: Image рждрзИрж░рж┐ ржХрж░рзЛ (Build)

**VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржУржкрзЗржи ржХрж░рзЛ** (рждрзЛржорж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯ ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржерж╛ржХрждрзЗ рж╣ржмрзЗ)

```bash
docker build -t my-react-app .
```

**ржПржЗ ржХржорж╛ржирзНржбрзЗрж░ ржкрзНрж░рждрж┐ржЯрж╛ ржЕржВрж╢ ржнрзЗржЩрзЗ ржжрзЗржЦрж┐:**

```
docker build     тЖТ Docker ржХрзЗ ржмрж▓ржЫрзЛ: "ржПржХржЯрж╛ Image рждрзИрж░рж┐ ржХрж░рзЛ"
-t my-react-app  тЖТ -t ржорж╛ржирзЗ tag (ржирж╛ржо)ред Image ржПрж░ ржирж╛ржо ржжрж┐ржЪрзНржЫрзЛ "my-react-app"
.                тЖТ ржбржЯ (.) ржорж╛ржирзЗ "ржмрж░рзНрждржорж╛ржи ржлрзЛрж▓рзНржбрж╛рж░рзЗ Dockerfile ржЦрзЛржБржЬрзЛ"
```

**ржХржорж╛ржирзНржб ржжрзЗржУржпрж╝рж╛рж░ ржкрж░ ржХрж┐ рж╣ржпрж╝?**

```
Docker Dockerfile ржкржбрж╝рзЗ тЖТ
  1. node:20-alpine ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзЗ (ржкрзНрж░ржержоржмрж╛рж░ ржЯрж╛ржЗржо рж▓рж╛ржЧржмрзЗ)
  2. /app ржлрзЛрж▓рзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзЗ
  3. package.json ржХржкрж┐ ржХрж░рзЗ
  4. npm install ржЪрж╛рж▓рж╛ржпрж╝
  5. ржмрж╛ржХрж┐ ржХрзЛржб ржХржкрж┐ ржХрж░рзЗ
  6. рж╕ржм ржорж┐рж▓рж┐ржпрж╝рзЗ ржПржХржЯрж╛ Image ржлрж╛ржЗрж▓ рждрзИрж░рж┐ рж╣ржпрж╝ тЖР ржПржЯрж╛ржЗ Image!
```

> **ЁЯТб Image рждрзИрж░рж┐ рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗ ржПржЯрж╛ рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐рждрзЗ ржерж╛ржХржмрзЗред** ржЪрж▓ржмрзЗ ржирж╛, рж╢рзБржзрзБ рж░рзЗржбрж┐ рж╣ржпрж╝рзЗ ржмрж╕рзЗ ржерж╛ржХржмрзЗред Docker Desktop тЖТ Images ржЯрзНржпрж╛ржмрзЗ ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗред

---

### Step 2: Image рждрзИрж░рж┐ рж╣ржпрж╝рзЗржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзЛ

```bash
docker images
```

**ржЖржЙржЯржкрзБржЯ ржЖрж╕ржмрзЗ ржПрж░ржХржо:**

```
REPOSITORY      TAG       IMAGE ID       CREATED          SIZE
my-react-app    latest    a1b2c3d4e5f6   2 minutes ago    250MB
```

**ржПржЦрж╛ржирзЗ ржХрж┐ ржХрж┐ ржжрзЗржЦржЫрзЛ?**

| ржХрж▓рж╛ржо       | ржорж╛ржирзЗ                                          |
| :--------- | :-------------------------------------------- |
| REPOSITORY | Image ржПрж░ ржирж╛ржо (рждрзБржорж┐ `-t` ржжрж┐ржпрж╝рзЗ ржпрзЗржЯрж╛ ржжрж┐ржпрж╝рзЗржЫрж┐рж▓рзЗ) |
| TAG        | ржнрж╛рж░рзНрж╕ржи ржиржорзНржмрж░ред ржирж╛ ржжрж┐рж▓рзЗ `latest` ржЕржЯрзЛ ржмрж╕рзЗ        |
| IMAGE ID   | Image ржПрж░ ржЗржЙржирж┐ржХ ржЖржЗржбрж┐                           |
| SIZE       | Image ржПрж░ рж╕рж╛ржЗржЬ                                 |

---

### Step 3: Container ржЪрж╛рж▓рзБ ржХрж░рзЛ (Run)

```bash
docker run -d -p 5173:5173 --name react-container my-react-app
```

**ржкрзНрж░рждрж┐ржЯрж┐ ржЕржВрж╢ ржнрзЗржЩрзЗ ржжрзЗржЦрж┐:**

```
docker run                тЖТ Docker ржХрзЗ ржмрж▓ржЫрзЛ: "ржПржХржЯрж╛ Container рждрзИрж░рж┐ ржХрж░рзЛ ржПржмржВ ржЪрж╛рж▓рзБ ржХрж░рзЛ"
-d                        тЖТ Detached mode: Terminal ржзрж░рзЗ рж░рж╛ржЦржмрзЗ ржирж╛, ржкрзЗржЫржирзЗ ржЪрж▓ржмрзЗ
-p 5173:5173              тЖТ Port mapping (ржирж┐ржЪрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд)
--name react-container    тЖТ Container ржПрж░ ржирж╛ржо ржжрж┐рж▓рзЗ "react-container"
my-react-app              тЖТ ржХрзЛржи Image ржерзЗржХрзЗ Container ржмрж╛ржирж╛ржмрзЗ? тЖТ "my-react-app"
```

**ЁЯФС Port Mapping (-p) ржмрзЛржЭрж╛:**

```
-p 5173:5173
   тЖС        тЖС
   |        тФФтФАтФА Container ржнрзЗрждрж░рзЗрж░ ржкрзЛрж░рзНржЯ (Vite ржПржЦрж╛ржирзЗ ржЪрж▓ржЫрзЗ)
   тФФтФАтФА рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐рж░ ржкрзЛрж░рзНржЯ (ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржПржЯрж╛ ржжрж┐ржпрж╝рзЗ ржврзБржХржмрзЗ)
```

ржорж╛ржирзЗ: "ржЖржорж╛рж░ ржкрж┐рж╕рж┐рж░ 5173 ржкрзЛрж░рзНржЯрзЗ ржХрзЗржЙ ржЖрж╕рж▓рзЗ рждрж╛ржХрзЗ Container ржПрж░ 5173 ржкрзЛрж░рзНржЯрзЗ ржкрж╛ржарж╛ржУ"

**ржпржжрж┐ рж▓рзЗржЦрзЛ `-p 3000:5173`** рждрж╛рж╣рж▓рзЗ:

- ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ `localhost:3000` ржжрж┐рж▓рзЗ ржкрзНрж░ржЬрзЗржХрзНржЯ ржжрзЗржЦржмрзЗ
- `localhost:5173` ржжрж┐рж▓рзЗ ржХрж┐ржЫрзБ ржжрзЗржЦржмрзЗ ржирж╛

---

### Step 4: ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржжрзЗржЦрзЛ

ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржУржкрзЗржи ржХрж░рзЛ тЖТ Address bar ржП рж▓рзЗржЦрзЛ:

```
http://localhost:5173
```

ЁЯОЙ **рждрзЛржорж╛рж░ React ржЕрзНржпрж╛ржк ржЪрж▓ржЫрзЗ тАФ ржХрж┐ржирзНрждрзБ Docker Container ржПрж░ ржнрзЗрждрж░рзЗ!**

---

### Step 5: Container ржЪрзЗржХ ржХрж░рзЛ / ржмржирзНржз ржХрж░рзЛ / ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ

```bash
# ржЪрж▓ржорж╛ржи рж╕ржм Container ржжрзЗржЦрзЛ
docker ps

# рж╕ржм Container ржжрзЗржЦрзЛ (ржмржирзНржз + ржЪрж▓ржорж╛ржи)
docker ps -a

# Container ржПрж░ log (console.log) ржжрзЗржЦрзЛ
docker logs react-container

# Container ржмржирзНржз ржХрж░рзЛ
docker stop react-container

# Container ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ (ржЖржЧрзЗ ржмржирзНржз ржХрж░рждрзЗ рж╣ржмрзЗ)
docker rm react-container

# ржЬрзЛрж░ ржХрж░рзЗ ржбрж┐рж▓рж┐ржЯ (ржмржирзНржз + ржбрж┐рж▓рж┐ржЯ ржПржХрж╕рж╛ржерзЗ)
docker rm -f react-container
```

---

### ЁЯза ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХржерж╛: Image тЙа Container

```
Image тЖТ ржмрж┐рж▓рзНржб рж╣ржУржпрж╝рж╛ ржлрж╛ржЗрж▓, ржиржбрж╝рзЗ ржирж╛, ржЪрж▓рзЗ ржирж╛, рж╢рзБржзрзБ ржерж╛ржХрзЗ
Container тЖТ Image ржерзЗржХрзЗ рждрзИрж░рж┐ рж╣ржУржпрж╝рж╛ ржЪрж▓ржорж╛ржи ржЕрзНржпрж╛ржк

Image ржбрж┐рж▓рж┐ржЯ ржХрж░рждрзЗ тЖТ docker rmi my-react-app
Container ржбрж┐рж▓рж┐ржЯ ржХрж░рждрзЗ тЖТ docker rm react-container

Image ржерж╛ржХрж▓рзЗ тЖТ ржпрждржмрж╛рж░ ржЗржЪрзНржЫрж╛ рждрждржмрж╛рж░ Container ржмрж╛ржирж╛рждрзЗ ржкрж╛рж░ржмрзЗ
Container ржбрж┐рж▓рж┐ржЯ ржХрж░рж▓рзЗржУ тЖТ Image ржерзЗржХрзЗ ржпрж╛ржмрзЗ
```

---

---

# ЁЯЯа PHASE 4: Docker Compose тАФ ржПржХржЯрж╛ ржлрж╛ржЗрж▓рзЗ рж╕ржм рж╕рзЗржЯрж┐ржВрж╕

**ржПржЗ Phase ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп:** ржкрзНрж░рждрж┐ржмрж╛рж░ рж▓ржорзНржмрж╛ `docker run -d -p 5173:5173 --name ...` ржХржорж╛ржирзНржб ржирж╛ рж▓рж┐ржЦрзЗ, рж╕ржм рж╕рзЗржЯрж┐ржВрж╕ ржПржХржЯрж╛ ржлрж╛ржЗрж▓рзЗ рж▓рж┐ржЦрзЗ рж░рж╛ржЦрж╛ ржПржмржВ ржПржХржЯрж╛ ржХржорж╛ржирзНржбрзЗ рж╕ржм ржЪрж╛рж▓рзБ/ржмржирзНржз ржХрж░рж╛ред

---

### ЁЯдФ Compose ржХрзЗржи ржжрж░ржХрж╛рж░?

**Compose ржЫрж╛ржбрж╝рж╛** рждрзЛржорж╛ржХрзЗ ржкрзНрж░рждрж┐ржмрж╛рж░ ржПржЗ рж▓ржорзНржмрж╛ ржХржорж╛ржирзНржб рж▓рж┐ржЦрждрзЗ рж╣рждрзЛ:

```bash
docker build -t my-react-app .
docker run -d -p 5173:5173 --name react-container -v ${PWD}:/app -v /app/node_modules my-react-app
```

**Compose ржжрж┐ржпрж╝рзЗ** рждрзБржорж┐ рж╢рзБржзрзБ рж▓рж┐ржЦржмрзЗ:

```bash
docker compose up
```

**ржмрзНржпрж╕! ЁЯОЙ** Build + Run + Volume + Port тАФ рж╕ржм ржЕржЯрзЛ рж╣ржпрж╝рзЗ ржпрж╛ржмрзЗред

---

### Step 1: `docker-compose.yml` ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЛ

**ЁЯУД ржлрж╛ржЗрж▓рзЗрж░ ржирж╛ржо:** `docker-compose.yml`

**ЁЯУН ржХрзЛржерж╛ржпрж╝ рж░рж╛ржЦржмрзЗ?** ржПржЯрж╛ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ рждрзЛржорж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯ structure ржХрзЗржоржи:

#### тЬЕ Approach 1: рж╢рзБржзрзБ Frontend (рждрзЛржорж╛рж░ ржПржЦржиржХрж╛рж░ ржХрзЗрж╕) тЖТ Root ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрзЗрждрж░рзЗ

```
my-react-app/                    тЖР Root folder
тФЬтФАтФА docker-compose.yml           тЖР ржнрзЗрждрж░рзЗ рж░рж╛ржЦрзЛ
тФЬтФАтФА Dockerfile
тФЬтФАтФА package.json
тФЬтФАтФА src/
тФФтФАтФА ...
```

ржпржЦржи рждрзЛржорж╛рж░ **ржПржХржЯрж╛ржЗ ржкрзНрж░ржЬрзЗржХрзНржЯ** ржерж╛ржХрзЗ, рждржЦржи `docker-compose.yml` ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ Root folder-ржП (ржпрзЗржЦрж╛ржирзЗ `Dockerfile` ржЖржЫрзЗ) рж░рж╛ржЦржмрзЗред

#### тЬЕ Approach 2: Frontend + Backend ржЖрж▓рж╛ржжрж╛ тЖТ ржмрж╛ржЗрж░рзЗ, Same Level ржП

```
my-fullstack-app/                тЖР Parent folder
тФЬтФАтФА docker-compose.yml           тЖР ржмрж╛ржЗрж░рзЗ! frontend/backend ржПрж░ same level ржП
тФЬтФАтФА frontend/                    тЖР React project
тФВ   тФЬтФАтФА Dockerfile
тФВ   тФЬтФАтФА package.json
тФВ   тФФтФАтФА src/
тФФтФАтФА backend/                     тЖР Node/Express project
    тФЬтФАтФА Dockerfile
    тФЬтФАтФА package.json
    тФФтФАтФА src/
```

ржпржЦржи **frontend + backend ржЖрж▓рж╛ржжрж╛ ржлрзЛрж▓рзНржбрж╛рж░рзЗ** ржерж╛ржХрзЗ, рждржЦржи `docker-compose.yml` ржжрзБржЯрзЛ ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ **parent level ржП** (ржмрж╛ржЗрж░рзЗ) рж░рж╛ржЦржмрзЗред ржПржмржВ `build` path ржП ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржирж╛ржо ржмрж▓рзЗ ржжрж┐ржмрзЗ: `build: ./frontend`

> **ЁЯФС рждрзБржорж┐ ржПржЦржи рж╢рзБржзрзБ React ржирж┐ржпрж╝рзЗ ржХрж╛ржЬ ржХрж░ржЫрзЛ тАФ рждрж╛ржЗ Approach 1 ржлрж▓рзЛ ржХрж░рзЛред ржкрж░рзЗ Backend ржпрзЛржЧ ржХрж░рж▓рзЗ Approach 2 рждрзЗ ржпрж╛ржмрзЗред**

```yaml
# ============================================================
# services: ржПржЦрж╛ржирзЗ рждрзЛржорж╛рж░ рж╕ржм Container (рж╕рж╛рж░рзНржнрж┐рж╕) рж▓рж┐ржЦржмрзЗ
# ============================================================
services:
  # "web" рж╣рж▓рзЛ рждрзЛржорж╛рж░ ржПржЗ рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ ржирж╛ржо тАФ ржпрзЗржХрзЛржирзЛ ржирж╛ржо ржжрж┐рждрзЗ ржкрж╛рж░рзЛ
  web:
    # build: . ржорж╛ржирзЗ тЖТ ржмрж░рзНрждржорж╛ржи ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ Dockerfile ржжрж┐ржпрж╝рзЗ Image ржмрж┐рж▓рзНржб ржХрж░рзЛ
    # ржПржЯрж╛ "docker build ." ржХржорж╛ржирзНржбрзЗрж░ рж╕ржорж╛ржи
    build: .

    # ports ржорж╛ржирзЗ тЖТ ржкрзЛрж░рзНржЯ ржорзНржпрж╛ржкрж┐ржВ
    # ржПржЯрж╛ "docker run -p 5173:5173" ржХржорж╛ржирзНржбрзЗрж░ рж╕ржорж╛ржи
    ports:
      - '5173:5173'

    # volumes ржорж╛ржирзЗ тЖТ рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐рж░ ржлрзЛрж▓рзНржбрж╛рж░ржХрзЗ Container ржПрж░ рж╕рж╛ржерзЗ рж▓рж┐ржВржХ ржХрж░рзЛ
    # ржПржЯрж╛ "docker run -v" ржХржорж╛ржирзНржбрзЗрж░ рж╕ржорж╛ржи
    volumes:
      # рзз. рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐рж░ ржмрж░рзНрждржорж╛ржи ржлрзЛрж▓рзНржбрж╛рж░ (./) ржХрзЗ Container ржПрж░ /app ржПрж░ рж╕рж╛ржерзЗ рж▓рж┐ржВржХ ржХрж░рзЛ
      # ржлрж▓рзЗ рждрзБржорж┐ ржкрж┐рж╕рж┐рждрзЗ ржХрзЛржб ржЪрзЗржЮрзНржЬ ржХрж░рж▓рзЗ тЖТ Container ржП ржЕржЯрзЛ ржЖржкржбрзЗржЯ рж╣ржмрзЗ!
      - ./:/app

      # рзи. Container ржПрж░ node_modules ржХрзЗ ржЖрж▓рж╛ржжрж╛ рж░рж╛ржЦрзЛ
      # ржХрзЗржи? ржХрж╛рж░ржг Container Linux ржП ржЪрж▓рзЗ, рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐ Windows
      # ржжрзБржЯрзЛрж░ node_modules ржЖрж▓рж╛ржжрж╛ тАФ ржорж┐рж╢рзЗ ржЧрзЗрж▓рзЗ Error рж╣ржмрзЗ!
      - /app/node_modules

    # environment ржорж╛ржирзЗ тЖТ Environment Variable рж╕рзЗржЯ ржХрж░рж╛
    environment:
      - CHOKIDAR_USEPOLLING=true # ржлрж╛ржЗрж▓ ржЪрзЗржЮрзНржЬ ржбрж┐ржЯрзЗржХрзНржЯ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ
```

---

### Step 2: Docker Compose ржХржорж╛ржирзНржб рж╢рзЗржЦрзЛ

```bash
# тЬЕ рж╕ржм рж╕рж╛рж░рзНржнрж┐рж╕ ржЪрж╛рж▓рзБ ржХрж░рзЛ (Image ржмрж┐рж▓рзНржб + Container рж░рж╛ржи)
docker compose up

# тЬЕ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржЪрж╛рж▓рзБ ржХрж░рзЛ (ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржзрж░рзЗ рж░рж╛ржЦржмрзЗ ржирж╛)
docker compose up -d

# тЬЕ ржЗржорзЗржЬ рж░рж┐-ржмрж┐рж▓рзНржб ржХрж░рзЗ ржЪрж╛рж▓рзБ ржХрж░рзЛ (ржХрзЛржб ржЪрзЗржЮрзНржЬ ржХрж░рж▓рзЗ ржжрж┐ржмрзЗ)
docker compose up --build

# тЬЕ рж╕ржм ржмржирзНржз ржХрж░рзЛ ржПржмржВ Container ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ
docker compose down

# тЬЕ рж▓ржЧ ржжрзЗржЦрзЛ
docker compose logs

# тЬЕ рж░рж┐ржпрж╝рзЗрж▓ржЯрж╛ржЗржо рж▓ржЧ ржжрзЗржЦрзЛ (ржлрж▓рзЛ ржХрж░ржмрзЗ)
docker compose logs -f
```

---

### ЁЯФС Volume ржХрж┐? ржХрзЗржи рж▓рж╛ржЧрзЗ? ржХрзЛржб ржжрж┐ржпрж╝рзЗ ржмрзБржЭрж┐

**Volume ржЫрж╛ржбрж╝рж╛ ржХрж┐ рж╣ржпрж╝:**

```
рждрзБржорж┐ ржкрж┐рж╕рж┐рждрзЗ App.jsx ржЪрзЗржЮрзНржЬ ржХрж░рж▓рзЗ тЖТ Container ржП ржХрж┐ржЫрзБ рж╣ржмрзЗ ржирж╛ ЁЯШв
ржХрзЗржи? ржХрж╛рж░ржг Image ржмрж┐рж▓рзНржб рж╣ржУржпрж╝рж╛рж░ рж╕ржоржпрж╝ ржХрзЛржб ржХржкрж┐ рж╣ржпрж╝рзЗ ржЧрзЗржЫрзЗ
ржкрж┐рж╕рж┐рж░ ржХрзЛржб ржЖрж░ Container ржПрж░ ржХрзЛржб ржЖрж▓рж╛ржжрж╛ ржЬрж┐ржирж┐рж╕
```

**Volume ржжрж┐рж▓рзЗ ржХрж┐ рж╣ржпрж╝:**

```
рждрзБржорж┐ ржкрж┐рж╕рж┐рждрзЗ App.jsx ржЪрзЗржЮрзНржЬ ржХрж░рж▓рзЗ тЖТ Container ржП ржЕржЯрзЛ ржЖржкржбрзЗржЯ рж╣ржмрзЗ ЁЯОЙ
ржХрзЗржи? Volume ржкрж┐рж╕рж┐ ржЖрж░ Container ржХрзЗ "рж▓рж╛ржЗржн ржХрж╛ржирзЗржХрзНржЯ" ржХрж░рзЗ
```

```
Volume ржХрзЗ ржнрж╛ржмрзЛ тЖТ Google Drive Sync
рждрзЛржорж╛рж░ ржкрж┐рж╕рж┐рждрзЗ ржлрж╛ржЗрж▓ ржЪрзЗржЮрзНржЬ ржХрж░рж▓рзЗ тЖТ Drive рждрзЗржУ ржЪрзЗржЮрзНржЬ рж╣ржпрж╝
ржарж┐ржХ рждрзЗржоржирж┐ Volume ржжрж┐ржпрж╝рзЗ ржкрж┐рж╕рж┐ ржЖрж░ Container рж╕рж┐ржЩрзНржХ ржерж╛ржХрзЗ
```

---

### ЁЯУВ ржПржЦржи рждрзЛржорж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржорзЛржЯ ржпрж╛ ржЖржЫрзЗ:

```
D:\projects\my-react-app\
тФЬтФАтФА .dockerignore          тЬЕ ржХрзЛржи ржлрж╛ржЗрж▓ Docker ржП ржпрж╛ржмрзЗ ржирж╛
тФЬтФАтФА Dockerfile             тЬЕ Image рждрзИрж░рж┐рж░ рж░рзЗрж╕рж┐ржкрж┐
тФЬтФАтФА docker-compose.yml     тЬЕ рж╕ржм рж╕рзЗржЯрж┐ржВрж╕ ржПржХ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝
тФЬтФАтФА vite.config.js         тЬЕ Docker Friendly рж╕рзЗржЯрж┐ржВрж╕ рж╕рж╣
тФЬтФАтФА package.json
тФЬтФАтФА src\
тФВ   тФЬтФАтФА App.jsx
тФВ   тФФтФАтФА main.jsx
тФФтФАтФА ...
```

---

---

# ЁЯЯг PHASE 5: ржкрзНрж░рждрж┐ржжрж┐ржирзЗрж░ ржХрж╛ржЬрзЗрж░ Flow (Daily Workflow)

**ржПржЗ Phase ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп:** ржПржЦржи рждрзЛржорж╛рж░ рж╕ржм ржлрж╛ржЗрж▓ рж░рзЗржбрж┐ред ржкрзНрж░рждрж┐ржжрж┐ржи ржХрж┐ржнрж╛ржмрзЗ Docker ржжрж┐ржпрж╝рзЗ ржХрж╛ржЬ ржХрж░ржмрзЗ рж╕рзЗржЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ рж╢рзЗржЦрж╛ред

---

### ЁЯМЕ рж╕ржХрж╛рж▓рзЗ ржХрж╛ржЬ рж╢рзБрж░рзБ ржХрж░рж╛рж░ рж╕ржоржпрж╝:

```bash
# Step 1: Docker Desktop ржЪрж╛рж▓рзБ ржХрж░рзЛ (ржЯрзНрж░рзЗ рждрзЗ ржЖржЗржХржи ржжрзЗржЦрж▓рзЗ ржорж╛ржирзЗ ржЪрж╛рж▓рзБ ржЖржЫрзЗ)

# Step 2: ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ ржпрж╛ржУ, ржкрзНрж░ржЬрзЗржХрзНржЯ ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржерж╛ржХрзЛ

# Step 3: ржЪрж╛рж▓рзБ ржХрж░рзЛ!
docker compose up -d
```

ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ `http://localhost:5173` ржУржкрзЗржи ржХрж░рзЛ тАФ ржХрзЛржбрж┐ржВ рж╢рзБрж░рзБ! ЁЯОЙ

---

### ЁЯТ╗ ржХрзЛржбрж┐ржВ ржПрж░ рж╕ржоржпрж╝:

```
рждрзБржорж┐ VS Code рждрзЗ ржХрзЛржб рж▓рж┐ржЦржмрзЗ ржпрзЗржоржи ржЖржЧрзЗ рж▓рж┐ржЦрждрзЗ тЖТ Save ржХрж░ржмрзЗ
Volume ржПрж░ ржХрж╛рж░ржгрзЗ тЖТ Container ржП ржЕржЯрзЛ ржЖржкржбрзЗржЯ рж╣ржмрзЗ
Vite HMR ржПрж░ ржХрж╛рж░ржгрзЗ тЖТ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржЕржЯрзЛ рж░рж┐ржлрзНрж░рзЗрж╢ рж╣ржмрзЗ

ржорж╛ржирзЗ рждрзЛржорж╛рж░ ржХрзЛржбрж┐ржВ ржПржХрзНрж╕ржкрзЗрж░рж┐ржпрж╝рзЗржирзНрж╕ ржПржХржжржо ржЖржЧрзЗрж░ ржорждрзЛржЗ ЁЯОп
рж╢рзБржзрзБ ржкрзЗржЫржирзЗ Docker ржЪрж▓ржЫрзЗ тАФ рждрзБржорж┐ рж╕рзЗржЯрж╛ ржЕржирзБржнржмржУ ржХрж░ржмрзЗ ржирж╛
```

---

### ЁЯУж ржирждрзБржи npm ржкрзНржпрж╛ржХрзЗржЬ ржЗржирж╕рзНржЯрж▓ ржХрж░рж▓рзЗ:

```bash
# ржзрж░рзЛ рждрзБржорж┐ axios ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ ржЪрж╛ржУ

# тЭМ ржнрзБрж▓ ржЙржкрж╛ржпрж╝ тАФ ржкрж┐рж╕рж┐рждрзЗ npm install ржжрзЗржУржпрж╝рж╛ (Container ржП ржХрж╛ржЬ ржХрж░ржмрзЗ ржирж╛)
npm install axios

# тЬЕ рж╕ржарж┐ржХ ржЙржкрж╛ржпрж╝ тАФ img рж░рж┐-ржмрж┐рж▓рзНржб ржХрж░рж╛
docker compose down              # ржмржирзНржз ржХрж░рзЛ
docker compose up --build -d     # рж░рж┐-ржмрж┐рж▓рзНржб ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрж╛рж▓рзБ ржХрж░рзЛ
```

**ржХрзЗржи рж░рж┐-ржмрж┐рж▓рзНржб рж▓рж╛ржЧрзЗ?**
ржХрж╛рж░ржг `package.json` ржЪрзЗржЮрзНржЬ рж╣ржпрж╝рзЗржЫрзЗ тЖТ ржирждрзБржи Image ржмрж╛ржирж╛рждрзЗ рж╣ржмрзЗ ржпрзЗржЦрж╛ржирзЗ ржирждрзБржи ржкрзНржпрж╛ржХрзЗржЬржЯрж╛ ржЗржирж╕рзНржЯрж▓ ржерж╛ржХржмрзЗред

---

### ЁЯМЩ ржХрж╛ржЬ рж╢рзЗрж╖рзЗ ржмржирзНржз ржХрж░рж╛рж░ рж╕ржоржпрж╝:

```bash
docker compose down
```

**ржмрзНржпрж╕! ржПрждржЯрзБржХрзБржЗред** Container ржмржирзНржз рж╣ржмрзЗ, ржорзЗржорж░рж┐ ржлрзНрж░рж┐ рж╣ржмрзЗред

---

---

# ЁЯФ┤ PHASE 6: Production Build (рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржбрж┐ржкрзНрж▓ржпрж╝)

**ржПржЗ Phase ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп:** рж▓рзЛржХрж╛рж▓ ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯрзЗ ржЖржорж░рж╛ `npm run dev` ржЪрж╛рж▓рж╛ржЗред ржХрж┐ржирзНрждрзБ рж╕рж╛рж░рзНржнрж╛рж░рзЗ (AWS, DigitalOcean ржЗрждрзНржпрж╛ржжрж┐) рж░рж┐ржпрж╝рзЗрж▓ ржЗржЙржЬрж╛рж░ржжрзЗрж░ ржЬржирзНржп Production Build ржжрж┐рждрзЗ рж╣ржпрж╝ тАФ рж╕рзЗржЯрж╛ ржХрж┐ржнрж╛ржмрзЗ ржХрж░рждрзЗ рж╣ржпрж╝ рж╢рзЗржЦрж╛ред

---

### ЁЯдФ Development vs Production ржПрж░ ржкрж╛рж░рзНржержХрзНржп

| ржмрж┐рж╖ржпрж╝  | Development (рж▓рзЛржХрж╛рж▓)    | Production (рж╕рж╛рж░рзНржнрж╛рж░)                    |
| :----- | :--------------------- | :-------------------------------------- |
| ржХржорж╛ржирзНржб | `npm run dev`          | `npm run build` тЖТ Nginx ржжрж┐ржпрж╝рзЗ рж╕рж╛рж░рзНржн ржХрж░рж╛ |
| ржлрж╛ржЗрж▓   | .jsx, .css ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ | рж╕ржм ржорж┐рж▓рзЗ ржЫрзЛржЯрзНржЯ ржХржпрж╝рзЗржХржЯрж╛ .js, .css ржлрж╛ржЗрж▓    |
| рж╕рзНржкрж┐ржб  | ржзрзАрж░ (Debug mode)       | ржлрж╛рж╕рзНржЯ (Optimized)                       |
| рж╕рж╛ржЗржЬ   | ржмржбрж╝                    | ржЕржирзЗржХ ржЫрзЛржЯ                                |

---

### Step 1: Production Dockerfile рждрзИрж░рж┐ ржХрж░рзЛ

**ЁЯУН ржХрзЛржерж╛ржпрж╝:** ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ Root folder-ржП
**ЁЯУД ржлрж╛ржЗрж▓рзЗрж░ ржирж╛ржо:** `Dockerfile.prod` (ржЖрж▓рж╛ржжрж╛ ржирж╛ржо ржжрж╛ржУ ржпрж╛рждрзЗ dev Dockerfile ржПрж░ рж╕рж╛ржерзЗ ржЧрзБрж▓рж┐ржпрж╝рзЗ ржирж╛ ржпрж╛ржпрж╝)

```dockerfile
# ============================================================
# Stage 1: ржмрж┐рж▓рзНржб рж╕рзНржЯрзЗржЬ
# ============================================================
# ржПржЦрж╛ржирзЗ Node ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ react build ржХрж░ржмрзЛ
FROM node:20-alpine AS build

WORKDIR /app

# package.json ржЖржЧрзЗ ржХржкрж┐ ржХрж░рж┐ (caching ржПрж░ ржЬржирзНржп)
COPY package.json .

# ржбрж┐ржкрзЗржиржбрзЗржирзНрж╕рж┐ ржЗржирж╕рзНржЯрж▓
RUN npm install

# ржмрж╛ржХрж┐ ржХрзЛржб ржХржкрж┐
COPY . .

# ЁЯФи Production build рждрзИрж░рж┐ ржХрж░рзЛ
# ржПржЯрж╛ npm run build ржЪрж╛рж▓рж╛ржмрзЗ тЖТ dist/ ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржЫрзЛржЯ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ рж╣ржмрзЗ
RUN npm run build


# ============================================================
# Stage 2: рж╕рж╛рж░рзНржнрж┐ржВ рж╕рзНржЯрзЗржЬ
# ============================================================
# Nginx рж╣рж▓рзЛ ржПржХржЯрж╛ ржУржпрж╝рзЗржм рж╕рж╛рж░рзНржнрж╛рж░ тАФ ржПржЯрж╛ static ржлрж╛ржЗрж▓ рж╕рж╛рж░рзНржн ржХрж░рждрзЗ ржЦрзБржм ржнрж╛рж▓рзЛ
# Node.js ржПрж░ ржЖрж░ ржжрж░ржХрж╛рж░ ржирж╛ржЗ! рж╢рзБржзрзБ Nginx ржжрж┐ржпрж╝рзЗ dist/ ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржлрж╛ржЗрж▓ serve ржХрж░ржмрзЛ
FROM nginx:alpine

# Stage 1 ржерзЗржХрзЗ dist/ ржлрзЛрж▓рзНржбрж╛рж░ ржХржкрж┐ ржХрж░рзЗ Nginx ржПрж░ HTML ржлрзЛрж▓рзНржбрж╛рж░рзЗ рж░рж╛ржЦрзЛ
# --from=build ржорж╛ржирзЗ тЖТ ржЙржкрж░рзЗрж░ "build" рж╕рзНржЯрзЗржЬ ржерзЗржХрзЗ ржлрж╛ржЗрж▓ ржирж╛ржУ
COPY --from=build /app/dist /usr/share/nginx/html

# Nginx ржбрж┐ржлрж▓рзНржЯрзЗ 80 ржкрзЛрж░рзНржЯрзЗ ржЪрж▓рзЗ
EXPOSE 80

# Nginx ржЪрж╛рж▓рзБ ржХрж░рзЛ
CMD ["nginx", "-g", "daemon off;"]
```

**ЁЯза Multi-stage Build ржХрзЗржи?**

```
тЭМ Stage 1 ржЫрж╛ржбрж╝рж╛ ржжрж┐рж▓рзЗ:
Image = Node + node_modules + ржХрзЛржб + dist = 500MB+ ЁЯШ▒

тЬЕ Multi-stage ржжрж┐рж▓рзЗ:
Image = рж╢рзБржзрзБ Nginx + dist ржлрзЛрж▓рзНржбрж╛рж░ (HTML/CSS/JS) = 30-50MB ЁЯОЙ

ржХрж╛рж░ржг Stage 2 рждрзЗ Node.js, node_modules ржХрж┐ржЫрзБржЗ ржирж╛ржЗ тАФ рж╢рзБржзрзБ рж░рзЗржбрж┐ ржлрж╛ржЗрж▓ ржЖржЫрзЗ!
```

---

### Step 2: Production Build + Run

```bash
# Image ржмрж┐рж▓рзНржб ржХрж░рзЛ (Dockerfile.prod ржлрж╛ржЗрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЛ ржмрж▓рзЗ -f ржжрж┐ржпрж╝рзЗ ржмрж▓рзЗ ржжрж┐ржЪрзНржЫрж┐)
docker build -f Dockerfile.prod -t my-react-app-prod .

# Container ржЪрж╛рж▓рзБ ржХрж░рзЛ
docker run -d -p 80:80 --name react-prod my-react-app-prod
```

ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ `http://localhost` ржжрж┐рж▓рзЗ рждрзЛржорж╛рж░ Production ржЕрзНржпрж╛ржк ржжрзЗржЦржмрзЗ! ЁЯОЙ

---

---

# тЪл PHASE 7: ржШржи ржШржи рж╣ржУржпрж╝рж╛ рж╕ржорж╕рзНржпрж╛ ржПржмржВ рж╕ржорж╛ржзрж╛ржи

**ржПржЗ Phase ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп:** Docker ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржЧрзЗрж▓рзЗ ржпрзЗ рж╕ржорж╕рзНржпрж╛ржЧрзБрж▓рзЛ рж╕ржмржЪрзЗржпрж╝рзЗ ржмрзЗрж╢рж┐ рж╣ржпрж╝, рж╕рзЗржЧрзБрж▓рзЛ ржПржмржВ рждрж╛ржжрзЗрж░ рж╕ржорж╛ржзрж╛ржи ржПржХрж╕рж╛ржерзЗ ржЬрзЗржирзЗ рж░рж╛ржЦрж╛ред

---

### рж╕ржорж╕рзНржпрж╛ рзз: "Port is already in use"

```
Error: bind: address already in use
```

**ржХрж╛рж░ржг:** ржЖржЧрзЗрж░ Container ржмржирзНржз ржирж╛ ржХрж░рзЗ ржирждрзБржи Container ржЪрж╛рж▓рзБ ржХрж░рзЗржЫрзЛ тАФ ржжрзБржЯрзЛржЗ ржПржХржЗ ржкрзЛрж░рзНржЯ (5173) ржзрж░рждрзЗ ржЪрж╛ржЗржЫрзЗред

**рж╕ржорж╛ржзрж╛ржи:**

```bash
# ржЖржЧрзЗрж░ Container ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЛ
docker ps -a

# ржмржирзНржз ржХрж░рзЛ ржПржмржВ ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ
docker rm -f react-container
```

---

### рж╕ржорж╕рзНржпрж╛ рзи: ржХрзЛржб ржЪрзЗржЮрзНржЬ рж╣ржЪрзНржЫрзЗ ржХрж┐ржирзНрждрзБ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржЖржкржбрзЗржЯ рж╣ржЪрзНржЫрзЗ ржирж╛

**ржХрж╛рж░ржг рзз:** Volume ржарж┐ржХржорждрзЛ рж╕рзЗржЯржЖржк рж╣ржпрж╝ржирж┐
**ржХрж╛рж░ржг рзи:** `vite.config.js` ржП `usePolling: true` ржжрзЗржУржирж┐

**рж╕ржорж╛ржзрж╛ржи:**

```bash
# рж░рж┐-ржмрж┐рж▓рзНржб ржХрж░рзЛ
docker compose down
docker compose up --build -d
```

ржПржмржВ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЛ `vite.config.js` ржП `usePolling: true` ржПржмржВ `host: true` ржЖржЫрзЗред

---

### рж╕ржорж╕рзНржпрж╛ рзй: "npm install" ржП Error ржЖрж╕ржЫрзЗ

**ржХрж╛рж░ржг:** ржХрзНржпрж╛рж╢рзЗ ржкрзБрж░рзЛржирзЛ ржбрж╛ржЯрж╛ ржзрж░рзЗ ржЖржЫрзЗ

**рж╕ржорж╛ржзрж╛ржи:**

```bash
# ржХрзНржпрж╛рж╢ ржЫрж╛ржбрж╝рж╛ ржмрж┐рж▓рзНржб (ржкрзБрж░рзЛ ржирждрзБржи ржХрж░рзЗ)
docker compose build --no-cache
docker compose up -d
```

---

### рж╕ржорж╕рзНржпрж╛ рзк: ржбрж┐рж╕рзНржХ рж╕рзНржкрзЗрж╕ рж╢рзЗрж╖ рж╣ржпрж╝рзЗ ржпрж╛ржЪрзНржЫрзЗ

Docker ржЗржорзЗржЬ ржЕржирзЗржХ ржЬрж╛ржпрж╝ржЧрж╛ ржирзЗржпрж╝ред ржкрзБрж░рзЛржирзЛ ржЕржмрзНржпржмрж╣рзГржд ржЗржорзЗржЬ/ржХржирзНржЯрзЗржЗржирж╛рж░ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржХрж░рзЛ:

```bash
# рж╕ржм ржЕржмрзНржпржмрж╣рзГржд ржЗржорзЗржЬ, ржХржирзНржЯрзЗржЗржирж╛рж░, ржнрж▓рж┐ржЙржо ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ
docker system prune -a
```

> тЪая╕П ржПржЯрж╛ ржЪрж▓ржорж╛ржи Container ржПрж░ ржХрж┐ржЫрзБ ржбрж┐рж▓рж┐ржЯ ржХрж░ржмрзЗ ржирж╛ тАФ рж╢рзБржзрзБ ржЕржмрзНржпржмрж╣рзГржд ржЬрж┐ржирж┐рж╕ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржХрж░ржмрзЗред

---

### рж╕ржорж╕рзНржпрж╛ рзл: Container ржЪрж╛рж▓рзБ рж╣ржЪрзНржЫрзЗ ржХрж┐ржирзНрждрзБ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржмржирзНржз рж╣ржпрж╝рзЗ ржпрж╛ржЪрзНржЫрзЗ

**ржбрж┐ржмрж╛ржЧ ржХрж░рзЛ:**

```bash
# Container ржПрж░ рж▓ржЧ ржжрзЗржЦрзЛ тАФ ржХрзЛржи Error ржЖрж╕ржЫрзЗ ржжрзЗржЦржмрзЗ
docker logs react-container
```

Common ржХрж╛рж░ржг:

- `package.json` ржП `"dev"` рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржирзЗржЗ
- `vite.config.js` ржП syntax error ржЖржЫрзЗ
- `Dockerfile` ржП WORKDIR ржнрзБрж▓ ржжрж┐ржпрж╝рзЗржЫрзЛ

---

---

# ЁЯПЖ PHASE 8: ржЪрж┐ржЯрж╢рж┐ржЯ тАФ рж╕ржм ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХржорж╛ржирзНржб ржПржХрж╕рж╛ржерзЗ

### ЁЯЦ╝я╕П Image ржХржорж╛ржирзНржб

```bash
docker build -t <ржирж╛ржо> .           # Image рждрзИрж░рж┐ ржХрж░рзЛ
docker images                      # рж╕ржм Image ржжрзЗржЦрзЛ
docker rmi <image-ржирж╛ржо>             # Image ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ
docker rmi $(docker images -q)     # рж╕ржм Image ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ
```

### ЁЯУж Container ржХржорж╛ржирзНржб

```bash
docker run -d -p <pc-port>:<container-port> --name <ржирж╛ржо> <image-ржирж╛ржо>  # Container ржЪрж╛рж▓рзБ ржХрж░рзЛ
docker ps                          # ржЪрж▓ржорж╛ржи Container ржжрзЗржЦрзЛ
docker ps -a                       # рж╕ржм Container ржжрзЗржЦрзЛ
docker stop <ржирж╛ржо>                  # ржмржирзНржз ржХрж░рзЛ
docker start <ржирж╛ржо>                 # ржЖржмрж╛рж░ ржЪрж╛рж▓рзБ ржХрж░рзЛ
docker rm <ржирж╛ржо>                    # ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ
docker rm -f <ржирж╛ржо>                 # ржЬрзЛрж░ ржХрж░рзЗ ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ
docker logs <ржирж╛ржо>                  # рж▓ржЧ ржжрзЗржЦрзЛ
docker exec -it <ржирж╛ржо> sh           # Container ржПрж░ ржнрзЗрждрж░рзЗ ржврзЛржХрзЛ (Terminal)
```

### ЁЯО╝ Docker Compose ржХржорж╛ржирзНржб

```bash
docker compose up                  # ржЪрж╛рж▓рзБ ржХрж░рзЛ
docker compose up -d               # ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржЪрж╛рж▓рзБ ржХрж░рзЛ
docker compose up --build          # рж░рж┐-ржмрж┐рж▓рзНржб ржХрж░рзЗ ржЪрж╛рж▓рзБ ржХрж░рзЛ
docker compose down                # ржмржирзНржз ржХрж░рзЛ
docker compose logs -f             # рж░рж┐ржпрж╝рзЗрж▓ржЯрж╛ржЗржо рж▓ржЧ ржжрзЗржЦрзЛ
docker compose ps                  # Compose ржПрж░ Container ржЧрзБрж▓рзЛ ржжрзЗржЦрзЛ
```

### ЁЯз╣ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржХрж░рж╛рж░ ржХржорж╛ржирзНржб

```bash
docker system prune -a             # рж╕ржм ржЕржмрзНржпржмрж╣рзГржд ржЬрж┐ржирж┐рж╕ ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ
docker volume prune                # ржЕржмрзНржпржмрж╣рзГржд Volume ржбрж┐рж▓рж┐ржЯ ржХрж░рзЛ
```

---

---

# ЁЯТб рж╕рж░рзНржмрж╢рзЗрж╖ ржХрж┐ржЫрзБ ржХржерж╛

### тЬЕ ржоржирзЗ рж░рж╛ржЦржмрзЗ

1. **Dockerfile, .dockerignore, docker-compose.yml** тЖТ рж╕ржмрж╕ржоржпрж╝ Root ржлрзЛрж▓рзНржбрж╛рж░рзЗ рж░рж╛ржЦржмрзЗ
2. Windows-ржП `vite.config.js` ржП **`usePolling: true`** ржнрзБрж▓ржмрзЗ ржирж╛
3. Error ржЖрж╕рж▓рзЗ тЖТ ржкрзНрж░ржержорзЗ **`docker logs <container-name>`** ржжрж┐ржпрж╝рзЗ ржЪрзЗржХ ржХрж░ржмрзЗ
4. ржирждрзБржи ржкрзНржпрж╛ржХрзЗржЬ ржЗржирж╕рзНржЯрж▓ ржХрж░рж▓рзЗ тЖТ **`docker compose up --build`** ржжрж┐ржмрзЗ
5. ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯрзЗ `docker compose up -d` ржжрж┐ржпрж╝рзЗ ржХрж╛ржЬ рж╢рзБрж░рзБ, `docker compose down` ржжрж┐ржпрж╝рзЗ рж╢рзЗрж╖

### ЁЯЧ║я╕П рждрзЛржорж╛рж░ рж╢рзЗржЦрж╛рж░ рж░рзЛржбржорзНржпрж╛ржк

```
тЬЕ Phase 1: ржЗржирж╕рзНржЯрж▓ (ржПржХржмрж╛рж░ржЗ ржХрж░ржмрзЗ)
тЬЕ Phase 2: ржлрж╛ржЗрж▓ рждрзИрж░рж┐ (ржкрзНрж░рждрж┐ ржирждрзБржи ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржПржХржмрж╛рж░)
тЬЕ Phase 3: Build + Run (ржмрзЗрж╕рж┐ржХ ржмрзЛржЭрж╛рж░ ржЬржирзНржп)
тЬЕ Phase 4: Docker Compose (ржкрзНрж░рждрж┐ржжрж┐ржи ржПржЯрж╛ржЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ)
тЬЕ Phase 5: Daily Workflow (ржПржЯрж╛ржЗ рждрзЛржорж╛рж░ рж░рзБржЯрж┐ржи)
тЬЕ Phase 6: Production (рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рждрзЗ ржЧрзЗрж▓рзЗ)
тЬЕ Phase 7: Troubleshooting (рж╕ржорж╕рзНржпрж╛ рж╣рж▓рзЗ ржжрзЗржЦржмрзЗ)
тЬЕ Phase 8: Cheatsheet (ржнрзБрж▓рзЗ ржЧрзЗрж▓рзЗ ржжрзЗржЦржмрзЗ)
```

**рж╢рзБржн ржбржХрж╛рж░ ржЬрж╛рж░рзНржирж┐!** ЁЯЪАЁЯР│
